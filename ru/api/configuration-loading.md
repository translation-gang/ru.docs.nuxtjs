---
title: "API: свойство loading"
description: Nuxt.js использует свой компонент для отображения процесса загрузки страницы или маршрута. Вы можете изменить его, отключить или создать свой собственный.
---

Nuxt.js использует свой компонент для отображения процесса загрузки страницы или маршрута. Вы можете изменить его, отключить или создать свой собственный.

# Свойство loading

- Тип: `Boolean` или `Object` или `String`

## Отключение индикатора загрузки

- Тип: `Boolean`

Чтобы индикатор загрузки не показывался при загрузке страниц, добавьте `loading: false` в `nuxt.config.js`:

```js
module.exports = {
  loading: false
}
```

## Настройка индикатора

- Тип: `Object`

Помимо других свойств, могут быть настроены в соответствии с потребностями вашего приложения также цвет, размер, продолжительность и направление индикатора. Это делается путем обновления свойства `loading` соответствующими свойствами в файле `nuxt.config.js`.

Например, чтобы сделать индикатор синим и высотой 5 пикселей, нужно обновить файл `nuxt.config.js` следующим образом:

```js
export default {
  loading: {
    color: 'blue',
    height: '5px'
  }
}
```

Список свойств для управления внешним видом индикатора загрузки.

| Ключ | Тип | По-умолчанию | Описание |
|-----|------|---------|-------------|
| `color` | String | `'black'` | Цвет индикатора |
| `failedColor` | String | `'red'` | Цвет индикатора, если при загрузке страницы произойдет ошибка (Например, если `data` или `fetch` вернут ошибку). |
| `height` | String | `'2px'` | Высота полосы (используется в свойстве `style`) |
| `duration` | Number | `5000` | Максимальная длительность анимации индикатора в миллисекундах. Nuxt.js предполагает, что пути вашего приложения загружаются до 5 секунд. |
| `rtl` | Boolean | `false` | Режим анимации "Справа на лево" |

## Внутренние части индикатора загрузки

К сожалению, компонент загрузки не может заранее знать, сколько времени займет загрузка новой страницы. Следовательно, невозможно точно анимировать индикатор выполнения до 100% времени загрузки.

Компонент загрузки Nuxt частично решает эту проблему, позволяя вам задать значение свойства `duration`, он должен быть установлен с предположением того, сколько времени займет процесс загрузки. Если вы не используете пользовательский компонент загрузки, индикатор выполнения всегда будет перемещаться от 0% до 100% в течениее времени `duration` (независимо от фактического прогресса). Когда загрузка длится дольше, чем время `duration`, индикатор выполнения будет оставаться на 100%, пока загрузка не закончится.

Вы можете изменить поведение по умолчанию, установив для параметра значение `continuous` в true, после чего индикатор, достигнув значения 100%, снова начнет сокращаться до 0% в течение времени `duration`. Если после достижения 0% загрузка все еще не завершена, она снова начнет расти с 0% до 100%, это будет повторяться до завершения загрузки.


## Использование пользовательского компонента загрузки

- Тип: `String`

Вы можете создать свой компонент загрузки, который Nuxt.js будет вызывать вместо стандартного. Чтобы сделать это, нужно указать путь к нему в свойстве `loading`. Теперь Nuxt.js будет вызывать его автоматически.

**Ваш компонент должен содержать следующие методы:**

| Метод | Обязателен| Описание |
|--------|----------|-------------|
| `start()` | Обязателен | Вызывается при изменении маршрута. Показывает индикатор |
| `finish()` | Обязателен | Вызывается когда компонент успешно загружен, а данные получены. Скрывает индикатор |
| `fail()` | *Опциональный* | Вызывается, когда путь не может быть загружен (например, если `fetch` вернул ошибку |
| `increase(num)` | *Опциональный* |Вызывается во время загрузки компонента, `num` - целое число < 100. |

Мы можем создать свой компонент в `components/loading.vue`:
```html
<template lang="html">
  <div class="loading-page" v-if="loading">
    <p>Loading...</p>
  </div>
</template>

<script>
export default {
  data: () => ({
    loading: false
  }),
  methods: {
    start () {
      this.loading = true
    },
    finish () {
      this.loading = false
    }
  }
}
</script>

<style scoped>
.loading-page {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  text-align: center;
  padding-top: 200px;
  font-size: 30px;
  font-family: sans-serif;
}
</style>
```

Затем, добавим в `nuxt.config.js` следующие строки, чтобы Nuxt.js использовал наш компонент. 

```js
module.exports = {
  loading: '~/components/loading.vue'
}
```
