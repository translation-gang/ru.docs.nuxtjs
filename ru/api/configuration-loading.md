---
title: "API: свойство loading"
description: Nuxt.js использует свой компонент для отображения процесса загрузки страницы или маршрута. Вы можете изменить его, отключить или создать свой собственный.
---

Nuxt.js использует свой компонент для отображения процесса загрузки страницы или маршрута. Вы можете изменить его, отключить или создать свой собственный.

# Свойство loading

- Тип: `Boolean` или `Object` или `String`

Nuxt.js из коробки предоставляет собственный компонент индикатора загрузки, который показывается между маршрутами. Вы можете нстароить его, отключить или создать свой собственный компонент.

Индикатор загрузки может быть программно запущен в ваших компонентах с помощью вызова `this.$nuxt.$loading.start()` для запуска индикатора и `this.$nuxt.$loading.finish()` для его его завершения. 

В процессе монтирования компонентов вашей страницы свойство `$loading` может быть не сразу доступно для использования. Чтобы обойти это, если вы хотите запустить индикатор загрузки в методе `mounted`, не забудьте делать ваши вызовы `$loading` внутри `this.$nextTick`, как показано ниже. 

## Отключение индикатора загрузки

- Тип: `Boolean`

Чтобы индикатор загрузки не показывался при загрузке страниц, добавьте `loading: false` в `nuxt.config.js`:

```js
module.exports = {
  loading: false
}
```

## Настройка индикатора

- Тип: `Object`

Список свойств для управления внешним видом индикатора загрузки.

| Ключ | Тип | По-умолчанию | Описание |
|-----|------|---------|-------------|
| `color` | String | `'black'` | Цвет индикатора |
| `failedColor` | String | `'red'` | Цвет индикатора, если при загрузке страницы произойдет ошибка (Например, если `data` или `fetch` вернут ошибку). |
| `height` | String | `'2px'` | Высота полосы (используется в свойстве `style`) |
| `duration` | Number | `5000` | Максимальная длительность анимации индикатора в миллисекундах. Nuxt.js предполагает, что пути вашего приложения загружаются до 5 секунд. |
| `rtl` | Boolean | `false` | Режим анимации "Справа на лево" |

Например, чтобы сделать синий индикатор загрузки высотой в 5 пикселей, мы добавим в `nuxt.config.js` следующее:

```js
module.exports = {
  loading: {
    color: 'blue',
    height: '5px'
  }
}
```

## Использование пользовательского компонента загрузки

- Тип: `String`

Вы можете создать свой компонент загрузки, который Nuxt.js будет вызывать вместо стандартного. Чтобы сделать это, нужно указать путь к нему в свойстве `loading`. Теперь Nuxt.js будет вызывать его автоматически.

**Ваш компонент должен содержать следующие методы:**

| Метод | Обязателен| Описание |
|--------|----------|-------------|
| `start()` | Обязателен | Вызывается при изменении маршрута. Показывает индикатор |
| `finish()` | Обязателен | Вызывается когда компонент успешно загружен, а данные получены. Скрывает индикатор |
| `fail()` | *Опциональный* | Вызывается, когда путь не может быть загружен (например, если `fetch` вернул ошибку |
| `increase(num)` | *Опциональный* |Вызывается во время загрузки компонента, `num` - целое число < 100. |

Мы можем создать свой компонент в `components/loading.vue`:
```html
<template lang="html">
  <div class="loading-page" v-if="loading">
    <p>Loading...</p>
  </div>
</template>

<script>
export default {
  data: () => ({
    loading: false
  }),
  methods: {
    start () {
      this.loading = true
    },
    finish () {
      this.loading = false
    }
  }
}
</script>

<style scoped>
.loading-page {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  text-align: center;
  padding-top: 200px;
  font-size: 30px;
  font-family: sans-serif;
}
</style>
```

Затем, добавим в `nuxt.config.js` следующие строки, чтобы Nuxt.js использовал наш компонент. 

```js
module.exports = {
  loading: '~/components/loading.vue'
}
```
